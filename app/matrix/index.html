
 <div class="tittleContent"> 
            <div class="idea">
                 <a href="" title="¿Que es una Matriz de trazabilidad?" data-toggle="popover" data-trigger="focus" data-content="La matriz de trazabilidad es un documento/herramienta que nos permite realizar el seguimiento de requisitos. Para obtener un buen seguimiento de requisitos, necesitamos relacionar el modelo de requisitos con el modelo de casos de uso, esto nos va a permitir averiguar si existe algun requisito que no esté tratado en los casos de uso o averiguar si hay algun requisito que este tratado en los casos de uso y no este en el modelo de requisitos. Consecuentemente obtendremos una relacion muchos a muchos donde un caso de uso tratará a muchos requisitos funcionales y un requisito funcional puede estar presente en varios casos de uso." data-placement="bottom"><img src="app-content/bombilla.jpg" class="idea" alt="User Image" width="40px;" height="40px"></a>
            </div>
                    <p>Modelo de Casos de Uso: Matriz de Trazabilidad</p>  
</div>
                            
 <div class="flash-message" ng-if="flash">
        <div class="{{'alert alert-' + flash.type}}" ng-bind="flash.message"></div>
 </div>    

 	<center><p class="textMat">Atención:  tu matriz va a tener: <input type="text" class="inputMatBloq" id="filas" value="{{vm.rf.length}}" disabled>Requisitos funcionales y 
 	 <input type="text" class="inputMatBloq" id="columnas" value="{{vm.specifications.length}}" disabled> Casos de Uso</p></center>  

 	
 	
 	<div class="col-md-12">
        <!--Header de la tabla-->
        <div class="box box-solid box-success">
            <div class="box-headerMat">
                    <h3 class="box-tittle"> Matriz de trazabilidad</h3>
            </div>
		</div>
		<div class="box-body">
                    <div class="panel panel-default">
                        <div class="box-body table-responsive no-padding">

                        <table class="table">
	                         	<thead>
                                   	<th class="thMat">CU/RF</th>
                                    <th class="thMat" ng-repeat="s in vm.specifications">CU {{s.id}}</th>
                                    <tr ng-repeat ="r in vm.rf">
                                        <td class="tdMat">RF{{r.number}}</td>
                                         <td ng-repeat="s in vm.specifications">
                                        	<input type='checkbox' ng-click="vm.avisar(s.id, r.number, $id)" ng-model="vm.selected[$id]" ng-changed="vm.comprobar($id)">
                                        </td>
                                   </tr>
	                            </thead>

	                            <tbody>
	                            	  
	                           	</tbody>

                        </table>
             	 </div>
                 
                </div>
			</div>
	</div>

	<div class="col-md-12">
        <!--Header de la tabla-->
        <div class="box box-solid box-success">
            <div class="box-headerMat">
                    <h3 class="box-tittle"> Resultado de la matriz</h3>
            </div>
		</div>
		<div class="box-body">
                    <div class="panel panel-default">
                        <div class="box-body table-responsive no-padding">

                        <table class="table">
	                            <tbody>
										<tr ng-repeat="result in vm.prueba">
											<td > <center>El CU {{result.idCU}} esta cubierto por el RF{{result.idRF}}</center></td>	
										</tr>
	                           	</tbody>

                        </table>
             	 	</div>
          
                </div>
                       <input type="button" onclick="pdfMatrix()" value="imprimir">
			</div>
	</div>

				



 <script>	

 $(document).ready(function(){
    $('[data-toggle="popover"]').popover();   
});

 function pdfMatrix(){
		var doc = new jsPDF('a4');
        var elem = document.getElementsByTagName("table")[1];
        var data = doc.autoTableHtmlToJson(elem);

        doc.text("Modelo de Casos de uso:", 70, 40);
        doc.text("Matriz de Trazabilidad", 70, 48);
        columns = ["Resultado: Matriz de trazabilidad",""];
        
       	doc.autoTable(columns, data.rows,{
	    
	      columnStyles:{
	        0: {columnWidth: 150},
	      },     
	      theme: 'grid',
	      styles: {
	          overflow: 'linebreak',
	          fontSize: 10,
	          valign: 'middle',
	          rowHeight: 9
	      },
	      margin: {top: 60, left: 30},
	      alternateRowStyles: {
	        fillColor: [239, 239, 239],
	      },
	      headerStyles: {
	        fillColor: [23, 110, 209],
	        fontStyle: 'normal',
	        fontSize: 13
	      }
	    });

    doc.save("ResultadoMatrizTrazabilidad.pdf");
  }


</script>

<!--
function informarItemsElegidos(elemento) {

var elementosObtenidos = document.getElementsByName(elemento);
var msg = 'Animales que ha elegido que le gustan incluye: ';

var elegidos = 0;

for (var i = 0; i < elementosObtenidos.length; i++) {
	if (elementosObtenidos[i].checked){
		++elegidos;
		msg = msg + elementosObtenidos[i].value + ', '
	}
};

if (elegidos == 0 ) {msg = '¡No ha elegido ningún animal!';}

var msg2 = 'El número total de animales disponibles era ' + elementosObtenidos.length + ' y usted ha elegido ' + elegidos;

alert (msg);
alert (msg2);


}


 <br><center><button class="btn btn-primary" onclick="insert()">Generar Matriz</button></center>
<th class="thMat">CU/RF</th>
                                        <th class="thMat" ng-repeat="s in vm.specifications">CU {{s.id}}</th>
<tr ng-repeat ="r in vm.rf">
                                        <td class="tdMat">RF{{r.number}}</td>
                                    </tr>
function insert(){
		   var columnas = document.getElementById("columnas").value;
		   var filas = document.getElementById("filas").value;
		   filas = filas+1;

		   for(var i = 1; i<filas; i++){
		   	for(var j=0; j<columnas; j++){

			   var row = document.getElementsByTagName("tr")[i];
			   
			   var x = row.insertCell(1);

			   var elementid = document.getElementsByTagName("td").length
			   x.setAttribute('id',elementid);
			   x.className = "tdMat";
			   x.innerHTML="<input type='checkbox' name='marcado' >"+"Fila: "+i+"columnas"+j+"";
		 	  }
			}
		}
	<td><input type="checkbox" name="matrix" value="RF1CU1"></td>
										<td><input type="checkbox" name="matrix" value="RF1CU2"></td>
										<td><input type="checkbox" name="matrix" value="RF1CU3"></td>
										<td><input type="checkbox" name="matrix" value="RF1CU4"></td>
										<td><input type="checkbox" name="matrix" value="RF1CU5"></td>
										<td><input type="checkbox" name="matrix" value="RF1CU6"></td>
										<td><input type="checkbox" name="matrix" value="RF1CU7"></td>
										<td><input type="checkbox" name="matrix" value="RF1CU8"></td>
										<td><input type="checkbox" name="matrix" value="RF1CU9"></td>
										<td><input type="checkbox" name="matrix" value="RF1CU10"></td>
										<td><input type="checkbox" name="matrix" value="RF1CU11"></td>
									</tr>
									<tr>
										<td></td>
										<td><input type="checkbox" name="RF2CU1" value="RF2CU1"></td>
										<td><input type="checkbox" name="RF2CU2" value="RF2CU2"></td>
										<td><input type="checkbox" name="RF2CU3" value="RF2CU3"></td>
										<td><input type="checkbox" name="RF2CU4" value="RF2CU4"></td>
										<td><input type="checkbox" name="RF2CU5" value="RF2CU5"></td>
										<td><input type="checkbox" name="RF2CU6" value="RF2CU6"></td>
										<td><input type="checkbox" name="RF2CU7" value="RF2CU7"></td>
										<td><input type="checkbox" name="RF2CU8" value="RF2CU8"></td>
										<td><input type="checkbox" name="RF2CU9" value="RF2CU9"></td>
										<td><input type="checkbox" name="RF2CU10" value="RF2CU10"></td>
										<td><input type="checkbox" name="RF2CU11" value="RF2CU11"></td>
										</tr>
									<tr>
									<td></td>
										<td><input type="checkbox" name="RF3CU1" value="RF3CU1"></td>
										<td><input type="checkbox" name="RF3CU2" value="RF3CU2"></td>
										<td><input type="checkbox" name="RF3CU3" value="RF3CU3"></td>
										<td><input type="checkbox" name="RF3CU4" value="RF3CU4"></td>
										<td><input type="checkbox" name="RF3CU5" value="RF3CU5"></td>
										<td><input type="checkbox" name="RF3CU6" value="RF3CU6"></td>
										<td><input type="checkbox" name="RF3CU7" value="RF3CU7"></td>
										<td><input type="checkbox" name="RF3CU8" value="RF3CU8"></td>
										<td><input type="checkbox" name="RF3CU9" value="RF3CU9"></td>
										<td><input type="checkbox" name="RF3CU10" value="RF3CU10"></td>
										<td><input type="checkbox" name="RF3CU11" value="RF3CU11"></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>

-->